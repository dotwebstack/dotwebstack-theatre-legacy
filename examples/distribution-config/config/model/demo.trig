@prefix elmo: <http://dotwebstack.org/def/elmo#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix config: <http://dotwebstack.org/configuration/>.

GRAPH config:Theatre {

  config:Stage a elmo:Stage;
    elmo:site config:Site;
    elmo:basePath "";
  .

  config:DBPediaBackend a elmo:SparqlBackend;
    elmo:endpoint "http://dbpedia.org/sparql"^^xsd:anyURI;
  .
  
  config:AMenu a elmo:Representation;
    elmo:stage config:Stage;
    elmo:informationProduct config:MenuData;
    elmo:appearance config:MenuAppearance;
  .

  config:AFooter a elmo:Representation;
    elmo:stage config:Stage;
    elmo:informationProduct config:FooterData;
    elmo:appearance config:FooterAppearance;
  .

  config:Homepage a elmo:Representation;
    elmo:urlPattern "";
    elmo:stage config:Stage;
    elmo:informationProduct config:HomepageData;
    elmo:appearance config:HomepageAppearance;
    elmo:contains config:AMenu;
    elmo:contains config:AFooter;
  .
  config:HomepageAppearance a elmo:HtmlAppearance;
  .
  config:HomepageData a elmo:InformationProduct;
    elmo:backend config:DBPediaBackend;
    elmo:query """
      prefix elmo1: <http://bp4mc2.org/elmo/def#>
      CONSTRUCT {
        [] rdfs:label "Linked Data Theatre 2.0";
          elmo1:html '''
            <h1>It works!</h1>
            <p>Welcome at the Linked Data Theatre 2.0 demo site</p>
            <p><i>(Running at: %{dotwebstack.config.host})</i></p>
            <p>Please update /config/model to create your own configuration</p>
            <p>You can check this demo configuration via the following links:</p>
            <ul>
              <li><a href="/demo/amersfoort">Amersfoort triples from dbpedia</a></li>
              <li><a href="/dbp/ld/v1/graph-breweries">Breweries triples from local triplestore</a></li>
              <li><a href="/dbp/ld/v1/tuple-breweries">Breweries tuples from local triplestore</a></li>
            </ul>
          '''
        .
      }
      WHERE {}
    """
  .

  config:MenuAppearance a elmo:NavbarSearchAppearance
  .
  config:MenuData a elmo:InformationProduct;
    elmo:backend config:DBPediaBackend;
    elmo:query """
      prefix elmo1: <http://bp4mc2.org/elmo/def#>
      CONSTRUCT {
        [] rdfs:label "Demo";
          elmo1:data [elmo1:index "1"; rdfs:label "Menu 1"]
        .
      }
      WHERE {}
    """;
  .

  config:FooterAppearance a elmo:FooterAppearance;
  .
  config:FooterData a elmo:InformationProduct;
    elmo:backend config:DBPediaBackend;
    elmo:query """
      prefix elmo1: <http://bp4mc2.org/elmo/def#>
      CONSTRUCT {
        [] elmo1:html '''<div class="row">
			<div class="col-sm-4">
				<h4>Links</h4>
				<ul class="list-unstyled">
					<li>
						<a href="https://github.com/architolk/linked-data-theatre">Github codebase</a>
					</li>
					<li>
						<a href="https://github.com/architolk/linked-data-theatre/wiki">Wiki documentation</a>
					</li>
				</ul>
			</div>
			<div class="col-sm-4">
				<h4>Demo configuration</h4>
				<p>This demo configuration is designed to function as a regression test. It should depict all configuration options of the LDT.</p>
			</div>
			<div class="col-sm-4">
				<h4>License</h4>
				<p>GPL 3.0 / CC-BY-SA</p>
			</div>
		</div>'''^^rdf:HTML
      }
      WHERE {}
    """;
  .

  config:Amersfoort a elmo:Representation;
    elmo:urlPattern "/demo/amersfoort";
    elmo:stage config:Stage;
    elmo:informationProduct config:AmersfoortData
  .
  
  config:AmersfoortData a elmo:InformationProduct;
    elmo:backend config:DBPediaBackend;
    elmo:query """
      CONSTRUCT {
        <http://dbpedia.org/resource/Amersfoort> ?p ?o
      }
      WHERE {
        <http://dbpedia.org/resource/Amersfoort> ?p ?o
      }
    """;
  .

}

