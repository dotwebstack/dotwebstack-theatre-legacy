function saveGrid(){loader.saveData(containerurl,context)}function statusFormatter(f,a,e,d,c){var b="";if(e===1){b="<img src='"+staticroot+"/css/images/tick.png'>"}else{if(e===2){b="<img src='"+staticroot+"/css/images/tag_red.png'>"}}return b}(function(b){function a(j){var q=50;var C=[];var n="";var e=null;var t=1;var i=null;var d=null;var l=j;var v={};var z=new Slick.Event();var u=new Slick.Event();var w=new Slick.Event();var D=new Slick.Event();function A(){}function B(E){if(E.hasOwnProperty("status")){if(E.status==0){alert("Connection lost - please try again")}else{if(E.hasOwnProperty("responseText")){alert(E.status+": "+E.responseText)}else{alert("Error: "+E.status+"(sorry, don't have more information)")}}}else{alert("Connection lost - please try again")}}function s(G,F){for(var E=G;E<=F;E++){if(C[E]==undefined||C[E]==null){return false}}return true}function x(){for(var E in C){delete C[E]}C.length=0}function r(E){C.splice(E,1)}function h(I,H){if(d){d.abort();for(var E=d.fromPage;E<=d.toPage;E++){C[E*q]=undefined}}if(I<0){I=0}if(C.length>0){H=Math.min(H,C.length-1)}var G=Math.floor(I/q);var F=Math.floor(H/q);while(C[G*q]!==undefined&&G<F){G++}while(C[F*q]!==undefined&&G<F){F--}if(G>F||((G==F)&&C[G*q]!==undefined)){u.notify({from:I,to:H});return}if(i!=null){clearTimeout(i)}i=setTimeout(function(){for(var J=G;J<=F;J++){C[J*q]=null}z.notify({from:I,to:H});d=b.ajax({cache:false,headers:{Accept:"application/ld+json"},datatype:"json",url:l,success:m,error:function(K){p(K,G,F)}});d.fromPage=G;d.toPage=F},50)}function p(G,F,E){B(G);u.notify({from:0,to:0})}function m(J){var Q=0;var G=J["@context"];for(var T in G){if(typeof G[T]==="object"){var N=T.indexOf(":");if(N>0){var M=T.substring(0,N);var F=T.substring(N+1);var I=G[M];if(I!==""){v[I+F]=true}}}}if("graph" in J){to=Q+J.graph.length;C.length=J.graph.length;for(var K=0;K<J.graph.length;K++){var H=J.graph[K];var T={};for(var S in H){if(H.hasOwnProperty(S)){var N=S.indexOf(":");var E=S;if(N>0){var M=S.substring(0,N);var F=S.substring(N+1);var I=G[M];if(I!==""){E=I+F}}else{var L=G[S];if(L!==""){E=L}}T[E]=H[S]}}for(var R in fragments){if(fragments.hasOwnProperty(R)){if(fragments[R]===R){for(var P in templateItem){if(templateItem.hasOwnProperty(P)&&T.hasOwnProperty(P)){if(templateItem[P].indexOf("{"+R+"}")>0){var O=new RegExp("^"+templateItem[P].replace("{"+R+"}","(.+)")+"$","g");T[R]=T[P].replace(O,"$1")}}}}}}C[Q+K]=T;C[Q+K].index=Q+K;C[Q+K]["#"]=0}}else{if("@id" in J){to=Q+1;var H=J;var T={};for(var S in H){if(H.hasOwnProperty(S)&&S!=="@context"){var N=S.indexOf(":");var E=S;if(N>0){var M=S.substring(0,N);var F=S.substring(N+1);var I=G[M];if(I!==""){E=[I+F]}}T[E]=H[S]}}for(var R in fragments){if(fragments.hasOwnProperty(R)){if(fragments[R]===R){T[R]="calc"}}}C[Q]=T;C[Q].index=Q;C[Q]["#"]=0}else{if(b.isArray(J)){to=Q+J.length;C.length=J.length;for(var K=0;K<J.length;K++){var H=J[K];var T={};for(var S in H){if(H.hasOwnProperty(S)){var E=S;if(E==="@type"){E="http://www.w3.org/1999/02/22-rdf-syntax-ns#type"}var P=H[S];if(b.isArray(P)){P=P[0]}if(typeof P==="object"){if(P.hasOwnProperty("@value")){T[E]=P["@value"]}if(P.hasOwnProperty("@id")){T[E]=P["@id"]}}else{T[E]=P}}}for(var R in fragments){if(fragments.hasOwnProperty(R)){if(fragments[R]===R){for(var P in templateItem){if(templateItem.hasOwnProperty(P)&&T.hasOwnProperty(P)){if(templateItem[P].indexOf("{"+R+"}")>0){var O=new RegExp("^"+templateItem[P].replace("{"+R+"}","(.+)")+"$","g");T[R]=T[P].replace(O,"$1")}}}}}}C[Q+K]=T;C[Q+K].index=Q+K;C[Q+K]["#"]=0}}else{to=Q}}}d=null;u.notify({from:Q,to:to})}function k(G,F){for(var E=G;E<=F;E++){delete C[E]}h(G,F)}function g(F,E){e=F;t=E;x()}function f(E){n=E;x()}function c(F,G,E){G["#"]=1;for(var H in E){if(E.hasOwnProperty(H)){G[H]=E[H]}}G["@id"]=UUIDjs.create().toURN();C.push(G);o(C.length-1);F.invalidateRow(C.length-1);F.updateRowCount();F.render()}function o(I){for(var H in templateItem){if(templateItem.hasOwnProperty(H)){var G=templateItem[H];for(var F in fragments){if(fragments.hasOwnProperty(F)){if(G.indexOf("{"+F+"}")>0){if(C[I].hasOwnProperty(fragments[F])){var E=C[I][fragments[F]];if(E!==""){G=G.replace("{"+F+"}",E)}else{G=""}}else{G=""}}}}}if(G===""){delete C[I][H]}else{C[I][H]=G}}}function y(G,H){var F={};for(var I in H){if(H.hasOwnProperty(I)){if(typeof H[I]==="object"){F[I]={"@type":"@id"}}else{F[I]=H[I]}}}for(var I in v){if(v.hasOwnProperty(I)){F[I]={"@type":"@id"}}}var E={"@context":F,graph:C};w.notify();b.ajax({type:"POST",contentType:"application/ld+json",url:G,data:JSON.stringify(E),success:function(){for(var J=0;J<C.length;J++){C[J]["#"]=0}grid.invalidateAllRows();grid.render();D.notify()},error:function(J){B(J);D.notify()}})}A();return{data:C,clear:x,isDataLoaded:s,ensureData:h,reloadData:k,setSort:g,setSearch:f,addRow:c,removeRow:r,updateRow:o,saveData:y,onDataLoading:z,onDataLoaded:u,onDataSaving:w,onDataSaved:D}}b.extend(true,window,{Slick:{Data:{RemoteModel:a}}})})(jQuery);