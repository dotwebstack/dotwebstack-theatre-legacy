(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{183:function(e){e.exports={source:{"@id":"http://purl.org/dc/elements/1.1/source"},dateCreated:{"@id":"http://purl.org/dc/terms/created","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},dateModified:{"@id":"http://purl.org/dc/terms/modified","@type":"http://www.w3.org/2001/XMLSchema#dateTime"},subject:{"@id":"http://purl.org/dc/terms/subject","@type":"@id","@container":"@set"},isPartOf:{"@id":"http://purl.org/iso25964/skos-thes#broaderPartitive","@type":"@id","@container":"@set"},hasPartOf:{"@id":"http://purl.org/iso25964/skos-thes#narrowerPartitive","@type":"@id","@container":"@set"},label:{"@id":"http://www.w3.org/2000/01/rdf-schema#label"},altLabel:{"@id":"http://www.w3.org/2004/02/skos/core#altLabel","@container":"@set"},broaderTerm:{"@id":"http://www.w3.org/2004/02/skos/core#broader","@type":"@id"},definition:{"@id":"http://www.w3.org/2004/02/skos/core#definition"},narrowerTerm:{"@id":"http://www.w3.org/2004/02/skos/core#narrower","@type":"@id","@container":"@set"},notation:{"@id":"http://www.w3.org/2004/02/skos/core#notation"},note:{"@id":"http://www.w3.org/2004/02/skos/core#note"},prefLabel:{"@id":"http://www.w3.org/2004/02/skos/core#prefLabel"},related:{"@id":"http://www.w3.org/2004/02/skos/core#related","@type":"@id","@container":"@set"},relatedMatch:{"@id":"http://www.w3.org/2004/02/skos/core#relatedMatch","@type":"@id"},status:{"@id":"http://www.w3.org/ns/adms#status"},sameAs:{"@id":"http://www.w3.org/2002/07/owl#sameAs","@type":"@id","@container":"@set"}}},188:function(e,t,n){e.exports=n(406)},193:function(e,t,n){},195:function(e,t,n){},233:function(e,t){},406:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(23),i=n.n(r),l=(n(193),n(25)),c=n(26),s=n(28),u=n(27),d=n(29),p=(n(195),n(181)),h=n.n(p),f=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).filterBegrippen=function(e){return n.props.data.filter(function(t){return t.label.toLowerCase().includes(e.toLowerCase())})},n.loadOptions=function(e,t){setTimeout(function(){t(n.filterBegrippen(e))},1e3)},n.state={inputValue:""},n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(h.a,{placeholder:"Zoek begrip...",isLoading:this.props.isLoading,cacheOptions:!0,isClearable:!0,loadOptions:this.loadOptions,defaultOptions:!0,onInputChange:this.props.handleInputChange,onChange:this.props.handleSelect}))}}]),t}(a.Component),m=n(72),g=n(73),b=n(74),w=n.n(b),y=n(183),v=n(184),j=n.n(v),O=n(75),S=n(45),L=n(185),E=n(186),C=n.n(E),D=n(121),k=n.n(D),V=window.dwsHostname,A=window.dwsEndpoint,B=window.dwsConfig,M=window.dwsSearchEndpoint,x=function(e,t){return Object(O.a)(new Set(Object(O.a)(new Set(e)).concat(Object(O.a)(new Set(t)))))},I=function(e,t,n){return e.map(function(e){return{label:e[t],value:e[n]}})},T=function(e){return e.sort(function(e,t){return e.label>t.label?1:t.label>e.label?-1:0})},F=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchOptions=function(e){fetch("".concat(n.state.searchEndpoint,"?term=").concat(e),{method:"get",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){return I(e,n.state.optionLabel,n.state.optionValue)}).then(function(e){return T(e)}).then(function(e){return n.setState(function(t){return{options:x(e,t.options),isLoading:!1}}),e}).catch(function(e){return console.error(e)})},n.handleInputChange=function(e){return e.length>2&&(n.setState({isLoading:!0}),n.fetchOptions(e)),e},n.handleSelect=function(e){n.setState(function(t){return{options:x(e,t.options)}}),n.props.onChange(e)},n.state=Object(g.a)({},e.formData,{options:[],title:e.schema.title?e.schema.title:"",placeholder:e.uiSchema["ui:options"]&&e.uiSchema["ui:options"].placeholder?e.uiSchema["ui:options"].placeholder:"Voeg toe...",optionLabel:e.uiSchema["ui:options"]&&e.uiSchema["ui:options"].optionLabel?e.uiSchema["ui:options"].optionLabel:"label",optionValue:e.uiSchema["ui:options"]&&e.uiSchema["ui:options"].optionValue?e.uiSchema["ui:options"].optionValue:"value",searchEndpoint:e.uiSchema["ui:options"]&&e.uiSchema["ui:options"].searchEndpoint?e.uiSchema["ui:options"].searchEndpoint:"http://".concat(V).concat(M),isLoading:!0}),n.fetchOptions=Object(S.debounce)(n.fetchOptions,250),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.setState({isLoading:!1,options:this.props.schema.default?this.props.schema.default:[],defaultValue:this.props.formData})}},{key:"render",value:function(){return Array.isArray(this.props.formData)?o.a.createElement(P,{title:this.state.title,placeholder:this.state.placeholder,options:this.state.options,defaultValue:this.props.formData,isLoading:this.state.isLoading,handleSelect:this.handleSelect,handleInputChange:this.handleInputChange}):o.a.createElement(N,{title:this.state.title,placeholder:this.state.placeholder,options:this.state.options,handleSelect:this.handleSelect,handleInputChange:this.handleInputChange})}}]),t}(a.Component),P=function(e){return o.a.createElement("fieldset",null,o.a.createElement("label",null,e.title),o.a.createElement(L.a,{name:e.name,placeholder:e.placeholder,isLoading:e.isLoading,closeMenuOnSelect:!1,components:k()(),defaultValue:e.defaultValue,isMulti:!0,options:e.options,onInputChange:e.handleInputChange,onChange:e.handleSelect,isClearable:!1,isDisabled:e.isDisabled}))},N=function(e){return o.a.createElement("fieldset",null,o.a.createElement("label",null,e.title),o.a.createElement(C.a,{name:e.name,isMulti:!0,placeholder:e.placeholder,components:k()(),options:e.options,onInputChange:e.handleInputChange,onChange:e.handleSelect,isClearable:!1}))},J=function(e){var t={type:"object",properties:{label:{type:"string"},value:{type:"string"}}},n={title:"Wijzig",type:"object",required:[],properties:{label:{type:"string",title:"Term",default:e.compacted.label},definition:{type:"string",title:"Definitie",default:e.compacted.definition},note:{type:"string",title:"Toelichting",default:e.compacted.note},source:{type:"string",title:"Bron",default:e.compacted.source},notation:{type:"string",title:"Notation",default:e.compacted.notation},subject:{type:"array",items:t,title:"Categorie",default:e.compacted.subject},isPartOf:{type:"array",items:t,title:"Onderdeel van",default:e.compacted.isPartOf},hasPartOf:{type:"array",items:t,title:"Bestaat uit",default:e.compacted.hasPartOf},altLabel:{type:"array",items:{type:"object",properties:{"@language":{type:"string",title:"Language"},"@value":{type:"string",title:"Value"}}},title:"Synoniem",default:e.compacted.altLabel},broaderTerm:{type:"string",title:"Bredere term",default:e.compacted.broaderTerm},narrowerTerm:{type:"array",items:t,title:"Smallere term",default:e.compacted.narrowerTerm},prefLabel:{type:"string",title:"Voorkeursterm",default:e.compacted.prefLabel},related:{type:"array",items:t,title:"Gerelateerd aan",default:e.compacted.related},relatedMatch:{type:"string",title:"Begrip ander domein",default:e.compacted.relatedMatch},sameAs:{type:"array",items:t,title:"Domeinwaarde",default:e.compacted.sameAs}}},a={searchField:F};return e.compacted&&o.a.createElement(j.a,Object.assign({},e,{className:"form form-wide",formData:e.formData,schema:n,uiSchema:{"ui:options":{addable:!0,removable:!0,orderable:!1},source:{"ui:widget":"textarea"},definition:{"ui:widget":"textarea"},note:{"ui:widget":"textarea"},subject:{"ui:field":"searchField","ui:options":{placeholder:"Voeg een Categorie toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}},altLabel:{"ui:options":{addable:!0,removable:!0,orderable:!1}},narrowerTerm:{"ui:field":"searchField","ui:options":{placeholder:"Voeg een Smallere term toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}},related:{"ui:field":"searchField","ui:options":{placeholder:"Voeg Gerelateerd aan toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}},hasPartOf:{"ui:field":"searchField","ui:options":{placeholder:"Voeg Bestaat uit toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}},isPartOf:{"ui:field":"searchField","ui:options":{placeholder:"Voeg Onderdeel van toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}},sameAs:{"ui:field":"searchField","ui:options":{placeholder:"Voeg Domeinwaarde toe...",optionLabel:"label",optionValue:"uri",searchEndpoint:"http://localhost:8080/beheer/begrippenlijst"}}},fields:a,onChange:e.handleFormDataChange,onSubmit:e.handleSubmit}))},W=function(e){var t=e.data;return o.a.createElement("pre",{className:"text-left",dangerouslySetInnerHTML:{__html:JSON.stringify(t,null,2)}})},_=function(e){return 0===e.indexOf("Begrip: ")?e.substr("Begrip: ".length,e.length):e},q=function(e,t){return Object.keys(e).filter(function(e){return!1===e.startsWith("@")}).filter(function(t){return Array.isArray(e[t])}).filter(function(t){return e[t].length>0}).filter(function(t){return"string"===typeof e[t][0]}).map(function(n){return e[n]=e[n].flatMap(function(e){return function(e,t){return e.filter(function(e){return e["@id"]===t}).map(function(e){return{label:e.label,value:t}})}(t,e)})})},G=function(e){return Object.keys(e).filter(function(e){return!1===e.startsWith("@")}).filter(function(t){return Array.isArray(e[t])}).filter(function(t){return e[t].length>0}).filter(function(t){return"object"===typeof e[t][0]}).map(function(t){return e[t]=e[t].map(function(e){return e.value})})},H=function(e){return Object.keys(e).filter(function(e){return-1===e.indexOf("@")}).reduce(function(t,n){return Object(g.a)({},t,Object(m.a)({},n,e[n]))},{})},X=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).getLabelsConfig=function(e){fetch(e,{method:"get",headers:{Accept:"application/ld+json"}}).then(function(e){return e.json()}).then(function(e){return n.setState({labels:e})}).catch(console.error)},n.compactBegrip=function(e,t){return new Promise(function(a){w.a.compact(t,n.state.context,function(t,n){t&&console.error(t);var o=Array.isArray(n["@graph"])?n["@graph"].filter(function(t){return t["@id"]===e})[0]:n,r={label:e,uri:e};o.label&&(r={label:_(o.label),uri:e}),a(r)})})},n.changeFormData=function(e){n.setState({formData:e})},n.submitFormData=function(e){n.setState({formData:e.formData});var t=n.state.compacted;Object.keys(e.formData).map(function(n){return t[n]=e.formData[n]}),G(t);var a={"@context":n.state.context,"@graph":[].concat(t)};n.expandJson(a).then(function(e){return n.saveBegrip(e)})},n.saveBegrip=function(e){return fetch("http://".concat(V).concat(A),{method:"put",body:JSON.stringify(e),headers:{"Content-Type":"application/ld+json"}}).then(function(e){return console.log("Saved",e)}).then(function(){return n.setState({ld:e})}).catch(console.error)},n.getBegripLabel=function(e){return fetch("".concat(z(e),"?format=json"),{method:"get",headers:{Accept:"application/ld+json"}}).then(function(e){return e.json()}).then(function(t){return n.compactBegrip(e,t)}).catch(console.error)},n.compact=function(e){return w.a.compact(e,n.state.context,function(t,a){t&&console.error(t);var o=Array.isArray(a["@graph"])?a["@graph"].filter(function(e){return e["@id"]===n.props.selected.value})[0]:a,r=Array.isArray(a["@graph"])?a["@graph"].filter(function(e){return e["@id"]!==n.props.selected.value}):[];q(o,r),n.setState({ld:e,compacted:o,savedValues:r,formData:H(o)})})},n.expandJson=function(e){return new Promise(function(t){return w.a.expand(e,function(e,n){return t(n)})})},n.fetchMetadata=function(){return fetch("".concat(z(n.props.selected.value),"?format=json"),{method:"get",headers:{Accept:"application/ld+json"}}).then(function(e){return e.json()}).then(function(e){return n.compact(e)}).then(function(){return n.getLabelsConfig("http://".concat(V).concat(B))}).then(function(){return n.setState({isLoading:!1})}).catch(console.error)},n.state={ld:{},compacted:{},context:y,labels:[],savedValues:[],formData:{label:void 0,definition:void 0,note:void 0,source:void 0,notation:void 0,subject:void 0,isPartOf:void 0,hasPartOf:void 0,altLabel:void 0,broaderTerm:void 0,narrowerTerm:void 0,prefLabel:void 0,related:void 0,relatedMatch:void 0},isLoading:!0},n.fetchMetadata=Object(S.debounce)(n.fetchMetadata,250),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.fetchMetadata()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{className:"row"},!this.state.isLoading&&this.state.compacted?o.a.createElement("div",{className:"col-md-12 order-md-1 text-left"},o.a.createElement(J,Object.assign({},this.props,{compacted:this.state.compacted,ld:this.state.ld,labels:this.state.labels,formData:this.state.formData,handleSubmit:this.submitFormData,handleFormDataChange:function(t){return e.changeFormData(t.formData)}})),o.a.createElement("hr",null),o.a.createElement(W,{data:this.state.compacted}),o.a.createElement("hr",null)):o.a.createElement("div",null,"Loading"))}}]),t}(a.Component),z=function(e){return e&&e.length>0?e.replace("standaard.aquo.nl",V).replace("/id/","/doc/"):e},Z=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(s.a)(this,Object(u.a)(t).call(this,e))).fetchBegrippen=function(e){fetch("http://".concat(V).concat(M,"?term=").concat(e),{method:"get",headers:{Accept:"application/json"}}).then(function(e){return e.json()}).then(function(e){return e.map(function(e){return{value:e.uri,label:e.label}})}).then(function(e){return e.sort(function(e,t){return e.label>t.label?1:t.label>e.label?-1:0})}).then(function(e){return n.setState({data:e,isLoading:!1})}).catch(function(e){return console.error(e)})},n.handleInputChange=function(e){var t=e.replace(/\W/g,"");return t.length>2&&n.fetchBegrippen(t),n.setState({inputValue:t}),t},n.handleSelect=function(e){n.setState({selected:e})},n.state={isLoading:!0,data:[],selected:""},n.fetchBegrippen=Object(S.debounce)(n.fetchBegrippen,250),n}return Object(d.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"container"},o.a.createElement("div",{className:"py-5 text-center"},o.a.createElement("div",{className:"mb-3"},this.state.selected&&o.a.createElement("pre",null,o.a.createElement("a",{href:z(this.state.selected.value),target:"_blank",rel:"noopener noreferrer"},z(this.state.selected.value))),o.a.createElement(f,{data:this.state.data,isLoading:this.state.isLoading,handleSelect:this.handleSelect,handleInputChange:this.handleInputChange})),this.state.selected&&o.a.createElement(X,{selected:this.state.selected})))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(404);i.a.render(o.a.createElement(Z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[188,2,1]]]);
//# sourceMappingURL=main.f7b25106.chunk.js.map