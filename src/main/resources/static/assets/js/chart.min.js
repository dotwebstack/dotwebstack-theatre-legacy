function calcLinear(A,j,i,v,t){var o=A.length;var B=[];A.forEach(function(c,a){var b={};b.x=j(c);b.y=i(c);b.mult=b.x*b.y;B.push(b)});var g=0;var h=0;var k=0;var l=0;B.forEach(function(a){g=g+a.mult;h=h+a.x;k=k+a.y;l=l+(a.x*a.x)});var z=g*o;var w=h*k;var u=l*o;var s=h*h;var p=(z-w)/(u-s);var r=k;var q=p*h;var w=(r-q)/o;return{ptA:{x:v,y:p*v+w},ptB:{y:t,x:(t-w)/p}}}function plotChart(e,f){var d={top:20,right:30,bottom:30,left:40},b=800-d.left-d.right,j=200-d.top-d.bottom;var i=d3.scale.ordinal().rangeRoundBands([0,b],0.1);var h=d3.scale.linear().range([j,0]);var c=d3.svg.axis().scale(i).orient("bottom");var a=d3.svg.axis().scale(h).orient("left");var g=d3.select("#chart").append("svg").attr("width",b+d.left+d.right).attr("height",j+d.top+d.bottom).append("g").attr("transform","translate("+d.left+","+d.top+")");i.domain(e.map(function(m){return m.name}));h.domain([0,d3.max(e,function(m){return m.value})]);g.append("g").attr("class","x axis").attr("transform","translate(0,"+j+")").call(c);g.append("g").attr("class","y axis").call(a);if(f==="ScatterPlotChartAppearance"){var k=calcLinear(e,function(m){return i(m.name)+i.rangeBand()/2},function(m){return h(m.value)},10,j);g.append("line").attr("class","line").attr("x1",k.ptA.x).attr("y1",k.ptA.y).attr("x2",k.ptB.x).attr("y2",k.ptB.y);g.selectAll(".bar").data(e).enter().append("circle").attr("class","bar").attr("cx",function(m){return i(m.name)+i.rangeBand()/2}).attr("cy",function(m){return h(m.value)}).attr("r",5)}else{if(f==="LineChartAppearance"){var l=d3.svg.line().x(function(m){return i(m.name)+i.rangeBand()/2}).y(function(m){return h(m.value)}).interpolate("cardinal");g.append("path").attr("d",l(e)).attr("class","line");g.selectAll(".bar").data(e).enter().append("circle").attr("class","bar").attr("cx",function(m){return i(m.name)+i.rangeBand()/2}).attr("cy",function(m){return h(m.value)}).attr("r",5)}else{g.selectAll(".bar").data(e).enter().append("rect").attr("class","bar").attr("x",function(m){return i(m.name)}).attr("y",function(m){return h(m.value)}).attr("height",function(m){return j-h(m.value)}).attr("width",i.rangeBand())}}};